{"ast":null,"code":"var _jsxFileName = \"/home/crhea/Documents/SFL/Training/Websocket-Chat/frontend/client/src/components/Chat.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { Button, Form, FormGroup, Input, Label } from \"reactstrap\";\nimport socketIOClient from \"socket.io-client\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ENDPOINT = \"http://127.0.0.1:3000\"; //function sendMessage(){\n//axios.get(\"/api/chats\").then(res => this.setState({chatList: res.data})).catch(e => console.log(e))\n//}\n\nfunction Chat() {\n  _s();\n\n  const [messages, setMessages] = useState(['message 2']);\n  useEffect(() => {\n    const socket = socketIOClient(ENDPOINT);\n    socket.on(\"receive-message\", data => {\n      setMessages(data);\n    });\n  }, []);\n\n  const sendMessage = e => {\n    // Define what to do when we send a message\n    e.preventDefault(); // prevent submission\n\n    const socket = socketIOClient(ENDPOINT);\n    const messageInput = document.getElementById('message-input');\n    const roomInput = document.getElementById('room-input');\n    const message = messageInput.value; // get message input\n\n    console.log(message); //const room = roomInput.value | 1;  // Get room name\n\n    socket.emit('send-message', message); // print out message\n\n    if (message === \"\") {\n      console.log('No message entered.');\n    } else {\n      messageInput.value = ''; // Clear message value\n\n      let newMessages = [...messages]; // copying the old datas array\n\n      newMessages.push(message);\n      setMessages(newMessages);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"col-lg-6 w-50 h-50 align-items-center mx-auto\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"message-container\",\n      className: \"col-lg-12 border border-info rounded w-100 h-50\",\n      children: /*#__PURE__*/_jsxDEV(\"ul\", {\n        className: \"list-group list-group-flush\",\n        children: messages.map(message => /*#__PURE__*/_jsxDEV(\"li\", {\n          children: /*#__PURE__*/_jsxDEV(\"h1\", {\n            children: message\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 17\n          }, this)\n        }, message.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Form, {\n      children: [/*#__PURE__*/_jsxDEV(FormGroup, {\n        children: [/*#__PURE__*/_jsxDEV(Label, {\n          for: \"message-input\",\n          children: \"Message\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 23\n        }, this), /*#__PURE__*/_jsxDEV(Input, {\n          type: \"text\",\n          name: \"message\",\n          id: \"message-input\",\n          placeholder: \"Enter Message\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 23\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 19\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        color: \"success\",\n        onClick: sendMessage,\n        children: \"Send\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(FormGroup, {\n        children: [/*#__PURE__*/_jsxDEV(Label, {\n          for: \"room-input\",\n          children: \"Room\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 23\n        }, this), /*#__PURE__*/_jsxDEV(Input, {\n          type: \"text\",\n          id: \"room\",\n          name: \"room-input\",\n          placeholder: \"room\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 23\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 19\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        color: \"success\",\n        children: \"Join\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 13\n  }, this);\n}\n\n_s(Chat, \"XQHb/ph9fZJQbRC7p7/rdgMQMkk=\");\n\n_c = Chat;\nexport default Chat;\n/*export default class Chat extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            chatList: [],\n            messages: ['message 1'],\n        } // end state\n    }  // end constructor\n\n    async componentDidMount() {  // To run on mount\n    this.refreshList();\n  };\n\n  // Function to update chatList by querying the todos API\n  refreshList = () => {\n    //axios.get(\"/api/chats\").then(res => this.setState({chatList: res.data})).catch(e => console.log(e))\n  };\n\n  renderMessages = () => {\n      return this.state.messages.map(message => (\n          <li key={message.id} className=\"list-group-item d-flex justify-content-between align-items-center\">{message}</li>\n      ));\n  }\n\n  receiveMessage = () => {\n      const socket = socketIOClient(ENDPOINT);\n        socket.on(\"receive-message\", data => {\n\n    });\n  }\n\n  render() {\n        return(\n            <div className='col-lg-6 w-50 h-50 align-items-center mx-auto'>\n            <div id=\"message-container\" className='col-lg-12 border border-info rounded w-100 h-50'>{this.renderMessages()}</div>\n                <Form>\n                      <FormGroup>\n                          <Label for='message'>Message</Label>\n                          <Input\n                            type='text' name='message' id=\"message\"\n                            placeholder=\"Enter Message\"\n                          />\n                      </FormGroup>\n                    <Button color='success'>\n                        Send\n                  </Button>\n                      <FormGroup>\n                          <Label for='room'>Room</Label>\n                          <Input\n                            type='text' id=\"room\" name='room'\n                             placeholder=\"room\"\n                          />\n                      </FormGroup>\n                    <Button color='success'>\n                        Join\n                  </Button>\n                </Form>\n            </div>\n        )\n  };\n\n}  // end Chat Component\n*/\n\nvar _c;\n\n$RefreshReg$(_c, \"Chat\");","map":{"version":3,"sources":["/home/crhea/Documents/SFL/Training/Websocket-Chat/frontend/client/src/components/Chat.js"],"names":["React","useState","useEffect","axios","Button","Form","FormGroup","Input","Label","socketIOClient","ENDPOINT","Chat","messages","setMessages","socket","on","data","sendMessage","e","preventDefault","messageInput","document","getElementById","roomInput","message","value","console","log","emit","newMessages","push","map","id"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport {\n    Button,\n    Form,\n    FormGroup,\n    Input,\n    Label\n} from \"reactstrap\";\nimport socketIOClient from \"socket.io-client\";\nconst ENDPOINT = \"http://127.0.0.1:3000\";\n\n\n//function sendMessage(){\n    //axios.get(\"/api/chats\").then(res => this.setState({chatList: res.data})).catch(e => console.log(e))\n//}\n\nfunction Chat(){\n    const [messages, setMessages] = useState(['message 2']);\n\n\n    useEffect(() => {\n        const socket = socketIOClient(ENDPOINT);\n        socket.on(\"receive-message\", data => {\n          setMessages(data);\n        });\n      }, []);\n\n    const sendMessage = (e) => {  // Define what to do when we send a message\n        e.preventDefault();  // prevent submission\n        const socket = socketIOClient(ENDPOINT);\n        const messageInput = document.getElementById('message-input');\n        const roomInput = document.getElementById('room-input');\n        const message = messageInput.value;  // get message input\n        console.log(message)\n        //const room = roomInput.value | 1;  // Get room name\n        socket.emit('send-message', message)\n        // print out message\n        if (message === \"\") {\n            console.log('No message entered.')\n        }else{\n            messageInput.value = '';   // Clear message value\n            let newMessages = [...messages]; // copying the old datas array\n            newMessages.push(message);\n            setMessages(newMessages)\n        }\n    }\n\n    return(\n            <div className='col-lg-6 w-50 h-50 align-items-center mx-auto'>\n            <div id=\"message-container\" className='col-lg-12 border border-info rounded w-100 h-50'>\n                <ul className=\"list-group list-group-flush\">\n              {messages.map(message => (\n              <li key={message.id}>\n                <h1>{message}</h1>\n              </li>\n              ))}\n              </ul>\n            </div>\n            <Form>\n                  <FormGroup>\n                      <Label for='message-input'>Message</Label>\n                      <Input\n                        type='text' name='message' id=\"message-input\"\n                        placeholder=\"Enter Message\"\n                      />\n                  </FormGroup>\n                <Button color='success' onClick={sendMessage}>\n                    Send\n              </Button>\n                  <FormGroup>\n                      <Label for='room-input'>Room</Label>\n                      <Input\n                        type='text' id=\"room\" name='room-input'\n                         placeholder=\"room\"\n                      />\n                  </FormGroup>\n                <Button color='success'>\n                    Join\n              </Button>\n            </Form>\n            </div>\n        )\n}\nexport default Chat\n/*export default class Chat extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            chatList: [],\n            messages: ['message 1'],\n        } // end state\n    }  // end constructor\n\n    async componentDidMount() {  // To run on mount\n    this.refreshList();\n  };\n\n  // Function to update chatList by querying the todos API\n  refreshList = () => {\n    //axios.get(\"/api/chats\").then(res => this.setState({chatList: res.data})).catch(e => console.log(e))\n  };\n\n  renderMessages = () => {\n      return this.state.messages.map(message => (\n          <li key={message.id} className=\"list-group-item d-flex justify-content-between align-items-center\">{message}</li>\n      ));\n  }\n\n  receiveMessage = () => {\n      const socket = socketIOClient(ENDPOINT);\n        socket.on(\"receive-message\", data => {\n\n    });\n  }\n\n  render() {\n        return(\n            <div className='col-lg-6 w-50 h-50 align-items-center mx-auto'>\n            <div id=\"message-container\" className='col-lg-12 border border-info rounded w-100 h-50'>{this.renderMessages()}</div>\n                <Form>\n                      <FormGroup>\n                          <Label for='message'>Message</Label>\n                          <Input\n                            type='text' name='message' id=\"message\"\n                            placeholder=\"Enter Message\"\n                          />\n                      </FormGroup>\n                    <Button color='success'>\n                        Send\n                  </Button>\n                      <FormGroup>\n                          <Label for='room'>Room</Label>\n                          <Input\n                            type='text' id=\"room\" name='room'\n                             placeholder=\"room\"\n                          />\n                      </FormGroup>\n                    <Button color='success'>\n                        Join\n                  </Button>\n                </Form>\n            </div>\n        )\n  };\n\n}  // end Chat Component\n*/"]},"metadata":{},"sourceType":"module"}